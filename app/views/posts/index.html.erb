<p id="notice"><%= notice %></p>

<h1>Posts</h1>
<table>
  <thead>
    <tr>
      <th>Title</th>
      <th>Content</th>
      <th>Author</th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @posts.reverse.each do |post| %>
      <tr style="border-style: solid;border-width: 2px;text-align: center;">
        <td><%= post.title %></td>
        <td><%= post.content %></td>
        <td><%= post.user.name %></td>
        <td><%= link_to 'Show', post %></td>
        <% if user_signed_in? and current_user==post.user %>
        <td><%= link_to 'Edit', edit_post_path(post) %></td>
        <td><%= link_to 'Destroy', post, method: :delete, data: { confirm: 'Are you sure?' } %></td>
        <% end %>
      </tr>

      <tr>
      <td colspan="6">
      <div style="border-color: black; border-width: 2px;background-color:yellow;border-style: solid;width: 50vw;padding: 2vh 5vw">
<h2>Comments</h2>
<% post.comments.each do |c|%>
<div style="background-color: rgba(0,0,127,0.5);">
  <h4 style="padding-left: 1 vw;">Comment By- <%= c.name %></h4>
  <p style="padding-left: 1 vw;"><%= c.body %></p>
</div>
<% end %>
</div>
<div style="background-color: rgba(0,0,255,0.5);width: 50vw;padding: 2vh 5vw;border-color: black; border-width: 2px;border-style: solid;">
<h2>New Comment</h2>
<% @post=post %>
<% @comment= Comment.new %>

<%= render partial: 'comments/form' %>
</div>
<br>
<br>  
</td>
    </tr>

      <% end %>
  </tbody>
</table>

<br>

<%= link_to 'New Post', new_post_path %>
